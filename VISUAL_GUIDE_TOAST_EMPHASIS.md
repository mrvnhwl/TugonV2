# Visual Guide: Toast Emphasis & Modal Timing

## ğŸ¨ Toast Enhancement - Before & After

### Before: Plain Text Toast

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”ƒ                                                       â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”                                             â”‚
â”‚  â”ƒ  â”‚ âš ï¸  â”‚   Hey there,                                â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚  â”ƒ                                                       â”‚
â”‚  â”ƒ         I see you're confusing plus and minus signs  â”‚
â”‚  â”ƒ         with "-" in the substitution. Double-check   â”‚
â”‚  â”ƒ         those operations!                            â”‚
â”‚  â”ƒ                                                       â”‚
â”‚  â”ƒ         (all text is same gray color)                â”‚
â”‚  â”ƒ                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After: Emphasized Toast âœ¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”ƒ                                                       â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”                                             â”‚
â”‚  â”ƒ  â”‚ âš ï¸  â”‚   Hey there,                                â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚  â”ƒ                                                       â”‚
â”‚  â”ƒ         I see you're confusing plus and minus signs  â”‚
â”‚  â”ƒ         with  "-"  in the substitution. Double-check â”‚
â”‚  â”ƒ              â•”â•â•â•â•—        â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾               â”‚
â”‚  â”ƒ              â•‘REDâ•‘        TEAL UNDERLINE             â”‚
â”‚  â”ƒ              â•‘BG â•‘                                   â”‚
â”‚  â”ƒ              â•šâ•â•â•â•                                   â”‚
â”‚  â”ƒ         those operations!                            â”‚
â”‚  â”ƒ                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
â€¢ Wrong parts (quoted): BOLD RED text with RED-50 background + rounded pill
â€¢ Step labels: SEMIBOLD TEAL-700 text with TEAL-300 underline (2px thick)
```

---

## ğŸ¯ Wrong Token Emphasis Styles

### Style 1: Single Token Error

```
Input: User enters "+" when "-" is correct

Toast text:
"Hey there, check "+", in the substitution."
                   ^^^

Rendered as:
Hey there, check  "+"  in the substitution.
                 â”Œâ”€â”€â”€â”      â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
                 â”‚REDâ”‚      TEAL UNDERLINE
                 â”‚BG â”‚
                 â””â”€â”€â”€â”˜

CSS Classes:
â€¢ font-bold text-red-600 bg-red-50 px-1.5 py-0.5 rounded
```

### Style 2: Multiple Token Errors

```
Input: User enters "+", "x", "7" incorrectly

Toast text:
"Issues with "+", "x" and 1 more in evaluation."

Rendered as:
Issues with  "+"  "x"  and 1 more in evaluation.
            â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”                 â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
            â”‚REDâ”‚â”‚REDâ”‚                 TEAL UNDERLINE
            â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜

Note: Each quoted token gets individual emphasis
```

### Style 3: Step Label Emphasis

```
Toast text:
"Review your work on the substitution step."

Rendered as:
Review your work on the substitution step.
                         â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
                         TEAL-700 with
                         TEAL-300 underline (2px)

CSS Classes:
â€¢ font-semibold text-teal-700 underline decoration-teal-300 decoration-2
```

---

## ğŸ“Š Modal Timing Comparison

### Before: Modal at 12th Attempt

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BEFORE (OLD TIMING)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Attempt  Counter  Cycle   Event
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  1        1       -      (silent)
  2        2       -      (silent)
  3        3       1      ğŸ’¬ Toast #1
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  4        1       -      (silent)
  5        2       -      (silent)
  6        3       2      ğŸ’¬ Toast #2
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  7        1       -      (silent)
  8        2       -      (silent)
  9        3       3      ğŸ’¬ Toast #3
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 10        1       -      (silent)
 11        2       -      (silent)
 12        3       4      ğŸš¨ MODAL â† Triggered here
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 13+     cycle     5+     ğŸ’¬ Toast resumes

Student sees 3 toasts before modal
```

### After: Modal at 15th Attempt âœ¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AFTER (NEW TIMING)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Attempt  Counter  Cycle   Event
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  1        1       -      (silent)
  2        2       -      (silent)
  3        3       1      ğŸ’¬ Toast #1 (emphasized)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  4        1       -      (silent)
  5        2       -      (silent)
  6        3       2      ğŸ’¬ Toast #2 (emphasized)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  7        1       -      (silent)
  8        2       -      (silent)
  9        3       3      ğŸ’¬ Toast #3 (emphasized)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 10        1       -      (silent)
 11        2       -      (silent)
 12        3       4      ğŸ’¬ Toast #4 (emphasized) â† NEW!
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 13        1       -      (silent)
 14        2       -      (silent)
 15        3       5      ğŸš¨ MODAL â† Triggered here
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 16+     cycle     6+     ğŸ’¬ Toast resumes

Student sees 4 toasts before modal (+1 extra chance!)
```

---

## ğŸ¨ Complete Toast Anatomy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”ƒ â† 8px teal border-left (border-teal-500)                 â”‚
â”‚  â”ƒ                                                           â”‚
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”ƒ  â”‚    âš ï¸    â”‚   Hey there, â† Bold XL teal-600           â”‚
â”‚  â”ƒ  â”‚  40x40   â”‚   â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾                                â”‚
â”‚  â”ƒ  â”‚  teal-   â”‚                                            â”‚
â”‚  â”ƒ  â”‚  500 bg  â”‚                                            â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚  â”ƒ                                                           â”‚
â”‚  â”ƒ         I see you're confusing plus and minus signs      â”‚
â”‚  â”ƒ         with  "-"  in the substitution. Double-check     â”‚
â”‚  â”ƒ              â”Œâ”€â”€â”€â”      â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾                     â”‚
â”‚  â”ƒ              â”‚   â”‚      â€¢ font-semibold                  â”‚
â”‚  â”ƒ              â”‚REDâ”‚      â€¢ text-teal-700                  â”‚
â”‚  â”ƒ         â€¢ font-bold     â€¢ underline                      â”‚
â”‚  â”ƒ         â€¢ text-red-600  â€¢ decoration-teal-300            â”‚
â”‚  â”ƒ         â€¢ bg-red-50     â€¢ decoration-2 (2px)             â”‚
â”‚  â”ƒ         â€¢ px-1.5 py-0.5                                  â”‚
â”‚  â”ƒ         â€¢ rounded                                        â”‚
â”‚  â”ƒ              â””â”€â”€â”€â”˜                                       â”‚
â”‚  â”ƒ         those operations!                                â”‚
â”‚  â”ƒ                                                           â”‚
â”‚  â”ƒ         â†‘ ml-12 (48px left margin, aligns with text)     â”‚
â”‚  â”ƒ                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†‘
  max-w-md w-full
  bg-white
  shadow-xl
  rounded-xl
  p-5 mb-4
```

---

## ğŸ” renderEnhancedHint() Process Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Input: Raw Hint Text                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
    "âš ï¸ Hey there, check "-" in the substitution."
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Step 1: Remove Emoji Prefix                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
    "Hey there, check "-" in the substitution."
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Step 2: Split by Quotes & Word Boundaries            â”‚
â”‚       Regex: /(".*?"|'.*?'|\b\w+\b)/g                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
    ["Hey", " ", "there", ",", " ", "check", " ", '"-"',
     " ", "in", " ", "the", " ", "substitution", "."]
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Step 3: Map Each Part to React Element             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ For each part, check:                  â”‚
    â”‚                                        â”‚
    â”‚ 1. Is it quoted? ('"-"' match)        â”‚
    â”‚    â†’ <span className="font-bold...">  â”‚
    â”‚                                        â”‚
    â”‚ 2. Is it stepLabel? ("substitution")   â”‚
    â”‚    â†’ <span className="font-semibold...â”‚
    â”‚                                        â”‚
    â”‚ 3. Otherwise:                          â”‚
    â”‚    â†’ <span>{part}</span>               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Step 4: Return JSX Array                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
    [
      <span key={0}>Hey</span>,
      <span key={1}> </span>,
      <span key={2}>there</span>,
      <span key={3}>,</span>,
      <span key={4}> </span>,
      <span key={5}>check</span>,
      <span key={6}> </span>,
      <span key={7} className="font-bold text-red-600 bg-red-50...">
        "-"
      </span>,
      <span key={8}> </span>,
      <span key={9}>in</span>,
      <span key={10}> </span>,
      <span key={11}>the</span>,
      <span key={12}> </span>,
      <span key={13} className="font-semibold text-teal-700...">
        substitution
      </span>,
      <span key={14}>.</span>
    ]
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Step 5: React Renders Array                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
    Hey there, check  "-"  in the substitution.
                     â”Œâ”€â”€â”€â”      â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
                     â”‚REDâ”‚      TEAL UNDERLINE
                     â””â”€â”€â”€â”˜
```

---

## ğŸ¯ Real-World Examples

### Example 1: Sign Error

```
Scenario:
  Question: Substitute x=2 into 3x+5
  Correct: 11
  User: 1 (used minus instead of plus)
  Token: "-" is wrong

Toast Display:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”                                             â”‚
â”‚  â”ƒ  â”‚ âš ï¸  â”‚   Hey there,                                â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚  â”ƒ                                                       â”‚
â”‚  â”ƒ         Double-check your signs with  "-"  in the    â”‚
â”‚  â”ƒ         substitution. The magnitude looks right!     â”‚
â”‚  â”ƒ                                      â”Œâ”€â”€â”€â”           â”‚
â”‚  â”ƒ                                      â”‚REDâ”‚           â”‚
â”‚  â”ƒ                                      â””â”€â”€â”€â”˜           â”‚
â”‚  â”ƒ                            â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾               â”‚
â”‚  â”ƒ                            TEAL UNDERLINE            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example 2: Multiple Errors

```
Scenario:
  Question: Simplify 2x+3
  Correct: 2x+3
  User: 2x-3+7 (multiple wrong tokens)
  Tokens: "-", "7" are wrong

Toast Display:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”                                             â”‚
â”‚  â”ƒ  â”‚ ğŸ’­  â”‚   Hey there,                                â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚  â”ƒ                                                       â”‚
â”‚  â”ƒ         Your answer has issues with  "-"  and  "7"   â”‚
â”‚  â”ƒ         in the simplification. Check each term!      â”‚
â”‚  â”ƒ                                    â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”     â”‚
â”‚  â”ƒ                                    â”‚REDâ”‚   â”‚REDâ”‚     â”‚
â”‚  â”ƒ                                    â””â”€â”€â”€â”˜   â””â”€â”€â”€â”˜     â”‚
â”‚  â”ƒ                           â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾              â”‚
â”‚  â”ƒ                           TEAL UNDERLINE             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example 3: Close Attempt

```
Scenario:
  Question: Evaluate expression
  Correct: 42
  User: 43 (very close)
  Behavior: close-attempt

Toast Display:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”ƒ  â”Œâ”€â”€â”€â”€â”€â”                                             â”‚
â”‚  â”ƒ  â”‚ ğŸ¯  â”‚   Hey there,                                â”‚
â”‚  â”ƒ  â””â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚  â”ƒ                                                       â”‚
â”‚  â”ƒ         You're so close with  "43"  in the final     â”‚
â”‚  â”ƒ         answer! Just a small arithmetic error.       â”‚
â”‚  â”ƒ                             â”Œâ”€â”€â”€â”€â”                   â”‚
â”‚  â”ƒ                             â”‚RED â”‚                   â”‚
â”‚  â”ƒ                             â”‚BG  â”‚                   â”‚
â”‚  â”ƒ                             â””â”€â”€â”€â”€â”˜                   â”‚
â”‚  â”ƒ                       â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾                   â”‚
â”‚  â”ƒ                       TEAL UNDERLINE                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Timing Comparison Chart

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Toast vs Modal Progression                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OLD TIMING (Before):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
0    3    6    9    12   15   18
â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
â”œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€> Attempts
â”‚                   â”‚
Toast #1-3       Modal
                Appears

3 toasts â†’ Modal at attempt 12


NEW TIMING (After):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
0    3    6    9    12   15   18
â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
â”œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€> Attempts
â”‚                        â”‚
Toast #1-4            Modal
                   Appears (LATER)

4 toasts â†’ Modal at attempt 15 (+3 more attempts)


KEY DIFFERENCE:
â€¢ Students get 1 additional toast hint at attempt 12
â€¢ Modal delayed by 3 attempts (12 â†’ 15)
â€¢ More learning opportunities before escalation
```

---

## ğŸ¨ Color Palette Reference

### Wrong Token Emphasis (Red Theme)

```
Text Color:      text-red-600   #dc2626  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Background:      bg-red-50      #fef2f2  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
Border:          (rounded pill, no border)

CSS: font-bold text-red-600 bg-red-50 px-1.5 py-0.5 rounded
```

### Step Label Emphasis (Teal Theme)

```
Text Color:      text-teal-700  #0f766e  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Underline:       decoration-teal-300 #5eead4  â•â•â•â•â•â•â•â•
Thickness:       decoration-2 (2px)

CSS: font-semibold text-teal-700 underline decoration-teal-300 decoration-2
```

### Toast Card (Teal Accent)

```
Border Left:     border-teal-500  #14b8a6  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (8px)
Badge BG:        bg-teal-500      #14b8a6  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Greeting:        text-teal-600    #0d9488  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Body:            text-gray-700    #374151  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
```

---

## ğŸ”§ Implementation Details

### Function Signature

```typescript
const renderEnhancedHint = (hintText: string): JSX.Element[] => {
  // 1. Remove emoji prefix
  // 2. Split by quotes and word boundaries
  // 3. Map to styled spans
  // 4. Return JSX array
};
```

### Regex Breakdown

```typescript
// Split pattern
/(".*?"|'.*?'|\b\w+\b)/g

Explanation:
(".*?")         - Match double-quoted strings (non-greedy)
|               - OR
('.*?')         - Match single-quoted strings (non-greedy)
|               - OR
\b\w+\b         - Match whole words with boundaries

/g              - Global flag (find all matches)
```

### Quote Detection

```typescript
// Check if part is quoted
part.match(/^["'].*["']$/)

Explanation:
^               - Start of string
["']            - Single or double quote
.*              - Any characters
["']            - Single or double quote
$               - End of string
```

### Case-Insensitive Step Label Match

```typescript
stepLabel && part.toLowerCase() === stepLabel.toLowerCase()

Explanation:
â€¢ Handles variations: "Substitution", "substitution", "SUBSTITUTION"
â€¢ Ensures consistent emphasis regardless of casing
```

---

## ğŸ¯ Benefits Summary

### Visual Benefits

âœ… Immediate attention to errors (red highlight)
âœ… Clear context indication (teal underline)
âœ… Reduced cognitive load (don't need to search)
âœ… Professional appearance (consistent styling)

### UX Benefits

âœ… Extra hint opportunity at attempt 12
âœ… Modal delayed â†’ more learning time
âœ… Clearer feedback progression
âœ… Less frustration from early modal

### Educational Benefits

âœ… Students identify errors faster
âœ… Context reinforcement (step names)
âœ… Visual memory aids (color associations)
âœ… Graduated intervention (toast â†’ modal)

---

**Last Updated:** October 12, 2025  
**Status:** âœ… Production Ready  
**Test in browser to see full visual effects!**
